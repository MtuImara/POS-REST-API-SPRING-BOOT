package pos.gescom.restApi.fichiersExploitations.stocks.stockDetail;

import java.util.ArrayList;
import java.util.List;

import org.springframework.stereotype.Service;

import lombok.RequiredArgsConstructor;

@Service
@RequiredArgsConstructor
public class StockDetailService {

    private final StockDetailRepository stockDetailRepository;

    public List<StockDetailDto> getAllOperationsDeStockDetailByIdOperation(
            int idOperation) {

        List<StockDetailDto> dto = new ArrayList<>();

        List<StockDetailEntity> entities = stockDetailRepository.getByMouvementsDeStock(idOperation);

        for (StockDetailEntity entity : entities) {
            dto.add(StockDetailMapper.getInstance().convertToDto(entity));
        }

        return dto;

    }

}
